Stage 6 — Final polish, a11y/perf, nav/footer, errors, tiny events, cheatsheet

Paste into Replit AI:

Apply production polish to semimassive-site:

1) Header / Footer with large, accessible nav

Create /components/Header.tsx and /components/Footer.tsx.

Header: large tap targets (min 44×44), semantic <nav> with links Home, Work, Services, About, Contact (Contact can mailto: for now). Use aria-current="page" on active link. Include a visibly-on-focus Skip to content link that targets #content.

Footer: copyright, small nav repeat, social placeholder.

Mount both in app/layout.tsx.

2) 404 + error boundaries

Add app/not-found.tsx (friendly 404 with big CTA back to Work).

Add app/error.tsx (client error boundary), with a reset button.

3) Accessibility defaults

Ensure global focus rings: visible, high-contrast (our aqua-700) with outline-offset.

Links must have descriptive text (no “click here”). Buttons have aria-label when icon-only (if any).

Respect prefers-reduced-motion for all motion (already added), plus add scroll-behavior: auto in reduced motion mode.

Add lang="en" on <html>, and role="main" on the #content container.

Run through jsx-a11y rules; fix any reported issues.

4) Performance touch-ups

Fonts: if using next/font, ensure only needed weights are loaded and set display: 'swap'. Preload the primary heading font weight for hero via preload option if available.

Images: ensure hero image(s) use priority and others lazy-load; add reasonable sizes attributes in Figure.

Add <link rel="preconnect" href="https://plausible.io" /> only when Plausible is enabled.

Verify no layout shift from fonts or images (CLS near 0).

5) Breadcrumbs + schema finishing

On /work/[slug], render a small breadcrumb (Home → Work → {Title}) and include BreadcrumbList JSON-LD (you already have helper, wire it).

On /work, add a brief intro paragraph (< 20 words) for SEO context.

6) Tiny analytics events (optional but useful)

Create /lib/analytics.ts:

export function track(event: string, props?: Record<string, any>) {
  if (typeof window !== 'undefined' && (window as any).plausible) {
    (window as any).plausible(event, { props });
  }
}


Wire onClick for primary CTA buttons (hero + footer) as:

import { track } from '@/lib/analytics';
// on click:
track('CTA Click', { location: 'hero' });


Guard so nothing breaks without Plausible.

7) Favicons / social images

Add basic favicon set in /public (/favicon.ico, /apple-touch-icon.png, /icon-192.png).

Add a default OG image /public/og.png (placeholder).

8) Draft/noindex handling

Add a tiny helper to mark a page as noindex (not used now, but ready):

// lib/noindex.ts
export const noIndexMeta = { robots: { index: false, follow: false } };


Example usage in generateMetadata() if a page is a draft.

9) Content Editing Cheatsheet

Create /CONTENT_EDITING.md with a concise guide:

# Editing Content (SemiMassive)
## Add or edit a case study
1. Duplicate an MDX in `/content/work/`.
2. Update frontmatter (title, slug, summary, impact, lastmod).
3. Export images to `/public/work/<slug>/` as WebP/AVIF; set `thumbnail` and `hero`.
4. Write sections using the **Strategic & concise** format:
   - Snapshot (Problem / Constraint / Result)
   - Context
   - Constraint → Breakthrough
   - System decision → UX expression
   - Outcome
   - Transferable pattern
   - If extended…
5. `pnpm dev` to preview; `pnpm build` to verify sitemap/robots; commit and push.

## Media tips
- Hero: 1600–2000px wide, `priority` prop.
- Inline images: export at 2× target size; use `Figure` with `alt` and optional caption.
- Video: short MP4 with poster image, or use Mux later.

## SEO tips
- Keep summaries ≤155 chars for meta descriptions.
- Use action/result language in titles (“Uplift at scale”, “Completion through curiosity”).
- Update `lastmod` in frontmatter when you edit.

## Common edits
- Homepage proof chips: edit in `app/page.tsx`.
- Add a new section: use `Section` + `Prose`.
- Colors/typography tokens: `tailwind.config` + `globals.css`.


10) Release checklist

Add /RELEASE_CHECKLIST.md:

# Release Checklist
- [ ] Set `NEXT_PUBLIC_SITE_URL` in `.env.local` to your production domain.
- [ ] Verify canonical tags and sitemap URLs use production domain.
- [ ] Lighthouse: Performance ≥ 90, A11y ≥ 95, Best Practices ≥ 95.
- [ ] 404/500 pages render properly.
- [ ] Scroll progress bar appears only on long case studies.
- [ ] Plausible domain set (optional); CTA clicks tracked.
- [ ] Run: `pnpm typecheck && pnpm lint && pnpm build && pnpm test`
- [ ] Commit and push to GitHub `main`.


11) Done criteria

Header/footer render; skip link works; focus rings visible.

404 and error boundary present.

Breadcrumbs live on case study pages with JSON-LD.

Tiny analytics events wired (no errors without Plausible).

Cheatsheet and release checklist added.

Lighthouse scores healthy (no regressions).

Show the updated file tree and key snippets (Header/Footer, not-found, analytics helper) when finished.